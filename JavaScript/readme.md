# 学习JavaScript

## 1. 知识地图
- JavaScript
  - 运行时
    - 数据结构
      - 类型系统（JS的类型系统就是它的7种基本数据类型）
        - 对象（对象比其他6种类型都要复杂，是需要大量篇幅讲解的重点）
      - 实例（JS内置对象，或者叫基础库，150 多个）
        - 应用和机制（我们从应用和机制的角度，挑选几个体系讲解内置对象）
    - 执行过程（算法 = 控制逻辑（执行过程）+ 业务逻辑）
        - 事件循环
        - 微任务的执行
        - 函数的执行
        - 语句级的执行
  - 文法
    - 词法
    - 语法
  - 语义（语义的大部分内容我们在运行时的讲解中透出，不再单独讲解）

## 2. 地图说明

把语言按照文法、语义和运行时来拆分，符合编程语言的一般规律：***用一定的词法和语法，表达一定语义，从而操作运行时。其实就是 程序 = 数据结构 + 算法***

## 3. 关于 “程序 = 数据结构 + 算法” 公式的理解

- 数据结构： 是一种关系，表示数据元素之间的关系，比喻成分子结构。比较官方的说法是，计算机中存储、组织数据的方式。
- 类型系统（数据类型）：用于定义如何将编程语言中的数值和表达式归类为许多不同的类型，数据类型可比喻成原子，即数据结构里的元素。 在JS里每一个值都属于7种类型之一。
- 算法： 这里算法包括两部分，一个是程序的控制逻辑（执行过程），控制逻辑决定了编程复杂度的下限；另一个是业务逻辑，业务逻辑决定了编程复杂度的上限。对于学习编程语言来说，并不会涉及到业务逻辑。

## 4. 学习编程语言的通用模板：类型系统 + 执行过程
> 我们由此可以想象，学习JavaScript编程语言，其实是了解它的文法和语义，大部分时间我们都在学习它的“类型系统”和“执行过程”。
JS的类型系统里，对象类型比其他6种数据类型都要复杂，深入对象类型又成了学习类型系统的重中之重。

在“执行过程”里，需要站在一个高维的角度观察，我们了解到JavaScript引擎由一个调用栈和调用堆组成，引擎对代码的执行不是一行一行，而是以存放在调用栈的执行上下文为单位执行。

而执行上下文由函数调用产生，我们揭开了执行上下的面纱，里面包含了三个属性：this值、词法环境（官方名叫：词法环境，通俗叫法：静态作用域）、变量对象，而this和词法环境，分别对应着函数“在哪被调用”和“在哪定义”，而词法环境（静态作用域）里记录着两部分信息，一个叫环境记录（记录作用域内的变量信息），还有一个引用 叫 __outer__，这个引用指向当前作用域的父作用域，作用域链就是这样产生，而作用域链使得函数里可以使用闭包。

一段小结：我们从JS引擎的的视角看待程序执行，引出执行上下文，执行上下文里有两个重要信息：函数“在哪定义”和“在哪被调用”，这两个信息牵扯到 “ this（动态作用域），词法环境（静态作用域），作用域链，闭包”这些抽象又晦涩的概念，另外，又引出了我们要学习this的绑定规则。

接下来我们要学习JavaScript的异步，因为JS是单线程的，所以引入了事件循环，事件里又分宏任务和微任务。接下来要学习promise、async/await、生成器 ，来写出异步代码。

最后，我们要学习js的垃圾回收，变量是怎么存储的（引用还是拷贝？），怎么实现深拷贝。


