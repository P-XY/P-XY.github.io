<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><title>web異世界の旅02：集齐装备php+mysql+phpmyadmin</title><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css"><script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script></head><body><div class="profile"><section id="wrapper"><header id="header"><a href="/"><img class="2x" id="avatar" src="/images/avatar.png"></a><h1>xiaoyupang</h1><h2>copy&paste is justice,国服第一复制粘贴手</h2><h1> <a href="https://github.com/XiaoyuPang"> <i class="fa fa-github"></i></a><a href="https://weibo.com/u/6681775699"> <i class="fa fa-weibo"></i></a></h1></header></section></div><section class="post" id="wrapper"><article><header><h1>web異世界の旅02：集齐装备php+mysql+phpmyadmin</h1><h2 class="headline">Feb 25, 2017 6:58·995 words
·3 minutes read<span class="tags"></span></h2></header><div id="toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#安装PHP"><span class="toc-text">安装PHP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装mysql"><span class="toc-text">安装mysql</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#安装phpmyadmin"><span class="toc-text">安装phpmyadmin</span></a></li></ol></div><section id="post-body"><a id="more"></a>
<p><img src="http://oixwna9a2.bkt.clouddn.com/images/blog/web/02/0.jpg" alt="" title="(ID : 61575231 画师： Krenz)"><br>我们知道：web服务器只能接受或返回HTTP请求，对于登陆，注册或其他更复杂的操作只能交给后台的应用去处理，比如用Java/PHP/Python写的应用。那么Apache是如何与PHP通信的呢，在计算机的世界里，更高层与低层之间的会话都是通过一个叫做API的东西，大家都彼此约定成俗才能通信，就好像三次元的两个人在探讨二次元的话题，那么这两个人的精神世界必须是相通的。</p>
<p><strong>Nginx和Apache的不同：</strong><br>Apache和PHP之间的联系是内建好的模块加载方式，Apache将PHP模块化加载到自己的程序里，我们只需在Apache的配置文件添加一些PHP的配置即可让Apache处理PHP； Nginx本身并不支持PHP，需要安装fastcgi提供接口，Nginx把php文件交给fastcgi去解析。<br><strong>环境：</strong><br>Apache2.4、php7.1（解压版）、mysql5.7（解压版）、phpmyadmin4.6<br>（注：Apache24、PHP7、Mysql57的安装文件都放在同级目录<code>F:/website/</code>下）</p>
<h1 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h1><p><strong>1.在Apache的配置文件httpd.conf中添加如下代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//让apache加载php处理模块</span><br><span class="line">LoadModule php7_module &quot;F:/website/php7/php7apache2_4.dll&quot; </span><br><span class="line">//用于指定php.ini文件</span><br><span class="line">PHPIniDir &quot;F:/website/php7&quot;  </span><br><span class="line">//表示当有一个资源是*.php时由php来处理</span><br><span class="line">AddType application/x-httpd-php .php</span><br></pre></td></tr></table></figure>
<p><strong>2.把php.ini-development修改成php.ini</strong><br>php的文件目录下有两套配置文件：php.ini-development用于开发环境，php.ini-production用于生产环境，只需要把选取的配置文件改成php.ini就行了<br><strong>3.扩展php模块</strong><br>在php.ini文件中导入php的开发库:<code>extension_dir=&quot;F:/website/php7/ext&quot;</code><br>（虽然导入了php开发库，但默认是关闭的，要开启相应的库要在php.ini文件中找到一堆extension的注释，把相应的库的注释去掉即可）。<br><strong>4.测试php是否可用</strong><br>在web目录新建一个test_php.php文件，写入测试代码保存：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	phpinfo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>重启Apache后，在浏览器输入<code>http://localhost/test_php.php</code>回车能看到php的版本及相关信息。<br>到此，php的安装完成。</p>
<h1 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h1><p><strong>1.解压好文件，修改mysql的配置文件my-default.ini</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//设置mysql的安装路径</span><br><span class="line">basedir = F:/website/mysql57</span><br><span class="line">//data路径，如果没有data这个文件夹要自己新建</span><br><span class="line">datadir = F:/website/mysql57/data</span><br></pre></td></tr></table></figure></p>
<p><strong>2.把mysql的bin目录添加到path环境变量</strong><br><strong>3.安装前必须先初始化</strong><br>以管理员权限打开powershell输入：<code>mysqld --initialize</code>，这个时候data下会出现一堆文件，其中xxx.err文件带有root用户的密码，用<code>root@localhost</code>进行搜索就能找到。<br><strong>4.安装</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqld --install   //安装</span><br><span class="line">mysqld --remove   //卸载</span><br></pre></td></tr></table></figure></p>
<p><strong>5.启动mysql</strong><br><code>net start mysql</code><br><strong>6.更改密码</strong><br>执行<code>mysql -uroot -p</code>，输入密码就可以进入mysql了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//修改密码</span><br><span class="line">SET PASSWORD=PASSWORD(&apos;新密码&apos;);</span><br><span class="line"></span><br><span class="line">//修改用户名</span><br><span class="line">update user set user=&apos;要改成的用户名&apos; where user=&apos;当前用户名&apos;;</span><br><span class="line">//退出mysql</span><br><span class="line">exit</span><br></pre></td></tr></table></figure></p>
<p><strong>7.测试mysql是否可用</strong><br>在web应用目录新建test_mysql.php文件并写入测试代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//mysqli_connect()函数的第一个参数localhost指向本地服务器的mysql数据库</span><br><span class="line">//第二个参数root是数据库的用户名，第三个是数据库用户密码</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">	$conn = mysqli_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;root&quot;);</span><br><span class="line">	if($conn)&#123;</span><br><span class="line">		echo&quot;连接mysql数据库成功&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	else&#123;</span><br><span class="line">		echo&quot;连接失败&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	?&gt;</span><br></pre></td></tr></table></figure></p>
<p>记得在php的配置文件php.ini中开启连接数据库功能的模块mysqli.dll(把extension前的分号去掉即可)。<br>最后重启Apache并在浏览器输入：<code>http://localhost/test_mysql.php</code>即可看到<strong>连接mysql数据库成功</strong>。</p>
<h1 id="安装phpmyadmin"><a href="#安装phpmyadmin" class="headerlink" title="安装phpmyadmin"></a>安装phpmyadmin</h1><p>phpmyadmin用于可视化的管理我们的mysql数据库，其实phpmyadmin相当于一个web站点，把它解压到我们的web目录下，浏览器输入：<code>http://localhost/phpmyadmin</code>回车进入登陆界面：</p>
<p><img src="http://oixwna9a2.bkt.clouddn.com/image/blog/web/02/phpmyadmin01.PNG" alt=""></p>
<p>输入mysql的用户名和密码进入管理界面：</p>
<p><img src="http://oixwna9a2.bkt.clouddn.com/image/blog/web/02/phpmyadmin02.PNG" alt=""></p>
<p>到此，win10 + Apache2.4 + php7.1 + mysql5.7 + phpmyadmin4.6 的web开发环境已经搭好。</p>
</section><nav id="post-nav"><span class="prev"></span><span class="next"><a href="/2017/02/18/web01/">Older Posts<span class="arrow">→</span></a></span></nav></article></section><footer id="footer"><div id="social"><a class="symbol" href="https://github.com/xiaoyupang"></a></div><p class="small">© Copyright forever  &nbsp;<i class="fa fa-heart" aria-hidden="true"> </i></p></footer><script>hljs.initHighlightingOnLoad();</script></body></html>