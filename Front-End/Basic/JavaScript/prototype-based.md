# 创造“一切”的幕后：JavaScript 面向对象原理

> object ，在英语为母语的解读中，其实是“一切”的意思。


掌握一门编程语言的核心，一定是它的函数和对象，而这两者在 JavaScript 里都是相关联的。
与 Java/Python 的基于类的面向对象设计模式不同，JavaScript 采用的是基于对象的设计模式：**原型模式**。
JavaScript的原型模式特点是：

- 对象的创建是通过*对函数进行new操作*（或者叫对函数的构造调用）产生
- 对象通过对*函数的 prototype 属性*（原型对象）的引用，达到“继承父类”的效果

用函数来模拟类，这就导致 JavaScript 的函数被设计得非常复杂（与其他编程语言相比）：它即是函数，又充当类的作用，同是又是对象。
掌握 JavaScript 对象系统的核心，就是掌握它的函数是如何被设计的。

## 1. 函数

> 有一个看待函数的不同视角：**JavaScript 用对象模拟函数，代替了一般编程语言中的函数**。

JavaScript 规定了函数与构造器的概念，并预留了私有字段，**函数的定义是具有[[call]]私有字段的对象，构造器的定义是具有私有字段[[construct]]的对象**。
我们可以这样说，任何对象只需要实现[[call]]，它就是一个函数，可以去作为函数被调用。而如果它能实现[[construct]]，它就是一个构造器，可以作为构造器被调用。
当然了，用function关键字创建的函数必定同时是函数和构造器，而箭头函数仅仅是函数，无法被当做构造器使用。

new Object() 创建对象的[[construct]]执行过程：

- 以 Object.protoype 为原型创建一个新对象；
- 以新对象为 this，执行函数的[[call]]；
- 如果[[call]]的返回值是对象，那么，返回这个对象，否则返回第一步创建的新对象


### 作用域和闭包

### this


